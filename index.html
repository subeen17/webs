<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>weather</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      $(function(){
            $.getJSON('https://api.openweathermap.org/data/2.5/weather?id=1835848&appid=90dda4a9ad533db48bad866d3d27fbea&units=metric', function(data){
                var $minTemp=data.main.temp_min;
                var minTemp=Math.floor($minTemp);
                var $maxTemp=data.main.temp_max;
                var maxTemp=Math.floor($maxTemp);
                var $temp=data.main.temp;
                var temp=Math.floor($temp);
                var $icon=data.weather[0].icon;
                var $now=new Date();
                var week=new Array("일","월","화","수","목","금","토");
                var dayName=week[$now.getDay()];
                var $cDate=$now.getFullYear() + '/' +($now.getMonth() +1) + '/' + $now.getDate() + '/' + dayName + '요일' + $now.getHours() + ':' + $now.getMinutes() + ':' + $now.getSeconds(); 
                //console.log($minTemp);

                $('h2').prepend($cDate);
                $('.clowtemp').append(minTemp);
                $('.ctemp').append(temp);
                $('.chighttemp').append(maxTemp);
                $('.cicon').append('<img src="http://openweathermap.org/img/wn/'+$icon+'@2x.png" alt="날씨">');
            });
        });
    </script>
</head>
<body>
    <h1>weather api</h1>
    <h2>-현재 날씨</h2>
    <div class="ctemp">현재온도:</div>
    <div class="clowtemp">최저온도:</div>
    <div class="chighttemp">최고온도:</div>
    <div class="cicon">아이콘:</div>
</body>
</html>